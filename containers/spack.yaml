# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
# This is a Spack Environment file for adding
spack:
  # add package specs to the `specs` list
  specs:
  - mpich@4.0.2 ~hydra~slurm~wrapperrpath
  concretizer:
    unify: true
    targets:
      granularity: generic
  config:
    template_dirs:
    - templates/
  packages:
    python:
      externals:
      - spec: python@3.10.6
        prefix: /usr
    curl:
      externals:
      - spec: curl@7.81.0+gssapi+ldap+nghttp2
        prefix: /usr
    tar:
      externals:
      - spec: tar@1.34
        prefix: /usr
    diffutils:
      externals:
      - spec: diffutils@3.8
        prefix: /usr
    findutils:
      externals:
      - spec: findutils@4.8.0
        prefix: /usr
    openssl:
      externals:
      - spec: openssl@3.0.2
        prefix: /usr
    gmake:
      externals:
      - spec: gmake@4.3
        prefix: /usr
    coreutils:
      externals:
      - spec: coreutils@8.32
        prefix: /usr
    binutils:
      externals:
      - spec: binutils@2.38
        prefix: /usr
    git:
      externals:
      - spec: git@2.34.1~tcltk
        prefix: /usr
  container:
    format: singularity
    images:
      final: ./training_container.sif
      build: spack/ubuntu-jammy
    os_packages:
      command: apt
      build:
      - python3
      update: false
